<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/master.css" />
    <title>Inicio - PUMAF</title>
  </head>
  <body>
    <header>
      <a href="../index.html"><img class="logoPumaf" src="../img/logo.webp" alt="Logo PUMAF" /></a>
      <nav>
        <ul class="linksPumaf">
          <li><a href="#">Item 1</a></li>
          <li><a href="./reservas.html">Reservas</a></li>
          <li><a href="./login.html">Iniciar Sesión</a></li>
          <li><a href="./registro.html">Registrarse</a></li>
          <li>
            <a href="./perfilUsuario.html?userId=40972817"
              ><img
                src="https://placehold.co/100x100"
                alt="Perfil usuario"
                class="imagenHeader"
            /></a>
          </li>
        </ul>
      </nav>
    </header>
    <main>
      <div class="container">
        <img id="imagenClub" src="https://placehold.co/1000x600" alt="" />
        <section class="datosClub">
          <h1>El Ombu</h1>
          <p class="detalle">
            <ion-icon name="compass-outline"></ion-icon>Remedios de Escalada
            3256, Gllen, Mendoza, Argentina.
          </p>
        </section>
        <section class="selectTurno">
          <h2>Elige tu turno</h2>
          <div class="buttonsTurno">
            <button class="btn">15.00hs</button>
            <button class="btn">15.30hs</button>
            <button class="btn">16.00hs</button>
            <button class="btn">16.30hs</button>
            <button class="btn">17.00hs</button>
            <button class="btn">17.30hs</button>
          </div>
          <p class="detalle infoTurno">
            <ion-icon name="information-circle-outline"></ion-icon>Las reservas
            se pueden realizar hasta con seis días de antelación
          </p>
        </section>
        <section class="ubicacionClub">
          <h2>¿Donde estamos?</h2>
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3348.980259228777!2d-68.8367914!3d-32.92511979999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x967e0bdf974e0985%3A0xabf6e7b780515f29!2sRemedios%20de%20Escalada%203256%2C%20M5519%20Godoy%20Cruz%2C%20Mendoza!5e0!3m2!1ses!2sar!4v1748980876135!5m2!1ses!2sar"
            width="600"
            height="450"
            style="border: 0"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
          ></iframe>
          <div class="infoClub">
            <details class="acordeon">
              <summary>Ubicación</summary>
              <hr class="divider" />
              <p>Isuani 1800. Godoy Cruz, Argentina</p>
            </details>
            <details class="acordeon">
              <summary>Horarios del Club</summary>
              <hr class="divider" />
              <p>Lunes a Viernes: 9:00am a 2:00am</p>
              <p>Sábados y Domingos: 9:00am a 2:00am</p>
              <p>Feriados: 9:00am a 2:00am</p>
            </details>
            <details class="acordeon">
              <summary>Servicios del Club</summary>
              <hr class="divider" />
              <ul class="servicios detalle">
                <li><ion-icon name="shirt-outline"></ion-icon>Vestuarios</li>
                <li><ion-icon name="car-outline"></ion-icon>Estacionamiento</li>
                <li><ion-icon name="medkit-outline"></ion-icon>Ayuda médica</li>
                <li><ion-icon name="trophy-outline"></ion-icon>Torneos</li>
                <li><ion-icon name="calendar-number-outline"></ion-icon>Cumpleaños</li>
                <li><ion-icon name="restaurant-outline"></ion-icon>Parrilla</li>
                <li><ion-icon name="school-outline"></ion-icon>Escuelita deportiva</li>
                <li><ion-icon name="fast-food-outline"></ion-icon>Bar / Restaurante</li>
              </ul>
            </details>
          </div>
        </section>
      </div>
    </main>
    <footer>
      <div class="footer">
        <div class="logoFooter">
          <!-- Logo Tennis -->
          <ion-icon name="tennisball-outline"></ion-icon>
        </div>
        <div class="contacto">
          <p class="footerTitulos">Contacto</p>
          <a href="mailto:pumaf@gmail.com">pumaf@gmail.com</a>
          <a href="tel: 555-555-5555">Tel: 555-555-5555</a>
          <address>Rodriguez 432 - Mendoza</address>
        </div>
        <div class="preguntasFrecuentes">
          <p class="footerTitulos">FAQ</p>
          <a href="./faq.html#nosotros">Sobre Nosotros</a>
          <a href="./faq.html#reservasCanchas">Reservas y Canchas</a>
          <a href="./faq.html#pagosCanchas">Pagos y Canchas</a>
          <a href="./faq.html#otrasPreguntas">Otras Preguntas</a>
        </div>
        <div class="social">
          <p class="footerTitulos">
            ¿Quieres Recibir nuestras últimas novedades?
          </p>
          <form action="" class="novedadesFormulario">
            <input type="email" placeholder="correo@ejemplo.com" />
            <button type="submit">Suscribirse</button>
          </form>
          <p class="footerTitulos">Nuestras Redes</p>
          <div class="redes">
            <a href="https://www.facebook.com" target="_blank"><ion-icon name="logo-facebook"></ion-icon></a>
            <a href="https://www.instagram.com" target="_blank"><ion-icon name="logo-instagram"></ion-icon></a>
            <a href="https://x.com" target="_blank"><ion-icon name="logo-twitter"></ion-icon></a>
          </div>
        </div>
      </div>
      <div class="legal">PUMAF 2025 &copy; Todos los Derechos Reservados</div>
    </footer>
    <!-- Enlace Ionicons -->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
      // 1. Obtener clubId de la URL
      const params = new URLSearchParams(window.location.search);
      const clubId = params.get('clubId');
      if (!clubId) {
        console.error('No se recibió clubId en la URL');
        return;
      }

      // 2. Recuperar datos del club desde sessionStorage
      const clubKey = `club_${clubId}`;
      const clubData = JSON.parse(sessionStorage.getItem(clubKey) || 'null');
      if (!clubData) {
        console.error(`No hay datos para ${clubKey} en sessionStorage`);
        return;
      }

      // 3. Referencias a elementos del DOM
      const logoEl      = document.querySelector('#imagenClub');
      const titleEl     = document.querySelector('.datosClub h1');
      const addressEl   = document.querySelector('.datosClub .detalle');
      const mapIframe   = document.querySelector('.ubicacionClub iframe');
      const infoUbicEl  = document.querySelector('.infoClub details:nth-of-type(1) p');
      const infoHorasEl = document.querySelector('.infoClub details:nth-of-type(2)');
      const infoServEl  = document.querySelector('.infoClub details:nth-of-type(3) ul');

      // 4. Poner logo (si existe)
      if (logoEl && clubData.logo) {
        logoEl.src = clubData.logo;
        logoEl.alt = clubData.nombre_fantasia;
      }

      // 5. Nombre y dirección
      titleEl.textContent = clubData.nombre_fantasia || 'Sin nombre';
      const dom = clubData.domicilio || {};
      const direccionTexto = [
        dom.calle,
        dom.numeracion,
        dom.localidad.localidad,
        dom.localidad.provincia.provincia,
        dom.localidad.provincia.pais.pais,
      ].filter(Boolean).join(', ');
      addressEl.innerHTML = `<ion-icon name="compass-outline"></ion-icon> ${direccionTexto}`;

      // 6. Mapa: generar enlace de Google Maps con la dirección
      const query = encodeURIComponent(direccionTexto);
      mapIframe.src = `https://maps.google.com/maps?q=${query}&output=embed`;

      // 7. Ubicación detallada
      infoUbicEl.textContent = direccionTexto;

      // 8. Horarios del club (si vienen en el JSON)
      if (clubData.horarios_club && clubData.horarios_club.length) {
        // Limpiamos y construimos nuevos <p>
        infoHorasEl.innerHTML = `
          <summary>Horarios del Club</summary>
          <hr class="divider" />
          ${clubData.horarios_club.map(h => `<p>${h}</p>`).join('')}
        `;
      }

      // 9. Servicios del club (si vienen en el JSON)
      if (clubData.servicios && clubData.servicios.length) {
        infoServEl.innerHTML = clubData.servicios
          .map(s => `<li><ion-icon name="${s.icon}"></ion-icon> ${s.nombre}</li>`)
          .join('');
      }
    });
  </script>
  </body>
</html>
